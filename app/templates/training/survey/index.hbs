<YearSelect @title="{{this.headerTitle}} Surveys" @year={{this.year}} @minYear={{2012}} @onChange={{action (mut this.year)}} />

<UiTable class="mt-2">
  <thead>
  <tr>
    <th>ID</th>
    <th>Title / Type</th>
    <th>Reports</th>
  </tr>
  </thead>
  <tbody>
  {{#each this.surveys as |survey|}}
    <tr>
      <td>{{survey.id}}</td>
      <td>
        {{survey.title}}<br>
        {{this.surveyTitle survey.type}}
      </td>
      <td>
        {{#each survey.reports as |report|}}
          <div class="mb-2">
            <LinkTo @route="training.survey.report"
                    @models={{array this.training.id survey.id}}
                    @query={{hash type=report.type report_id=report.id}}>
              {{report.title}}
            </LinkTo>
          </div>
        {{/each}}
      </td>
    </tr>
  {{else}}
    <tr>
      <td colspan="4"><b class="text-danger">No surveys found for {{this.year}}</b></td>
    </tr>
  {{/each}}
  </tbody>
</UiTable>
