<table class="table table-width-auto table-striped table-hover table-sm">
  <thead>
  <tr>
    <th>ID</th>
    <th colspan="2">Active / Title</th>
    <th>Short Title</th>
    <th>Type</th>
    <th>Min / Max</th>
    <th>Attributes</th>
    {{#if @canManagePositions}}
      <th>Action</th>
    {{/if}}
  </tr>
  </thead>
  <tbody>
  {{#each @viewPositions key="id" as |position|}}
    <tr>
      <td class="text-end">{{position.id}}</td>
      <td class="text-center">
        <BooleanIcon @value={{position.active}} @falseIcon="times" @falseClass="text-danger"/>
      </td>
      <td>
        {{position.title}}
      </td>
      <td>
        <PresentOrNot @value={{position.short_title}} @empty="-"/>
      </td>
      <td>{{position.type}}</td>
      <td class="text-center">{{position.min}} / {{position.max}}</td>
      <td>
        {{#if position.training_position_id}}
          Training position:
          <div class="ms-3">{{pluck position.training_position_id @positions "title" "-"}}</div>
        {{/if}}
        {{#if position.new_user_eligible}}
          {{fa-icon "globe"}} Grant to New Accounts<br>
        {{/if}}
        {{#if position.all_rangers}}
          {{fa-icon "universal-access"}} Grant To All Rangers<br>
        {{/if}}
        {{#if position.count_hours}}
          {{fa-icon "clock"}} Hours count towards appreciations<br>
        {{/if}}
        {{#if position.on_sl_report}}
          {{fa-icon "list"}} On Shift Lead Report<br>
        {{/if}}
        {{#if position.on_trainer_report}}
          {{fa-icon "rectangle-list"}} On Trainer's Report<br>
        {{/if}}
        {{#if position.prevent_multiple_enrollments}}
          {{fa-icon "ban"}} Multiple Enrollments Prevented<br>
        {{/if}}
        {{#if position.contact_email}}
          {{mail-to position.contact_email}}
        {{/if}}
      </td>
      {{#if @canManagePositions}}
        <td>
          <UiButton @size="sm" @onClick={{fn @editAction position}}>
            {{fa-icon "edit"}} Edit
          </UiButton>
        </td>
      {{/if}}
    </tr>
  {{else}}
    <tr>
      <td colspan="{{if @canManagePositions 8 7}}"><b class="text-danger">No positions found</b></td>
    </tr>
  {{/each}}
  </tbody>
</table>
