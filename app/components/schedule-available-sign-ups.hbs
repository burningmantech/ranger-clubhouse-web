<UiSection class="d-print-none">
  <:title>{{if this.isCurrentYear "Available" "Past"}} Shift Sign-Ups for {{@year}}</:title>
  <:body>
    {{#if @availableSlots}}
      <FormRow>
        <div class="col-sm-12 col-xl-auto">
          <label class="col-form-label">
            Day filter:
          </label>
        </div>
        <div class="col-sm-12 col-xl-auto">
          <ChForm::Select @name="filterDay"
                          @value={{this.filterDay}}
                          @options={{this.dayOptions}}
                          @onChange={{action (mut this.filterDay)}} />
        </div>
      </FormRow>
       <p>
        <b>Note:</b> A shift may not be added to or removed from your schedule if the shift has already started.
      </p>
      <p>
        Click on the position title to show the available shifts.
      </p>
      <div>
        <b>Showing {{this.viewSlots.length}} of {{pluralize @availableSlots.length "shift"}}.</b>
        {{#if (not-eq this.viewSlots.length @availableSlots.length)}}
          <b> Adjust the day filter above to show prior shifts &amp; trainings.</b>
        {{/if}}
      </div>
      {{#each this.positions key="position_id" as |position|}}
        <SchedulePositionList @position={{position}}
                              @showPeople={{@showPeople}}
                              @joinSlot={{@joinSlot}}
                              @leaveSlot={{@leaveSlot}}
                              @isAdmin={{@isAdmin}}
                              @isCurrentYear={{this.isCurrentYear}}
        />
      {{else}}
        <b class="text-danger">There are no shifts which match.</b>
      {{/each}}
    {{else}}
      <p><b class="text-danger">There are no shifts available.</b></p>
    {{/if}}
  </:body>
</UiSection>
